(function(a){"use strict";var b="columnManagerModal",c=Storages.initNamespaceStorage("paragonGridColumns"),d=c.localStorage,e=function(a,b){d.set(a,b)},f=function(a){return d&&!d.isEmpty(a)?d.get(a):null},g=function(a,c){var d={modalId:b,href:paragonCmm.getUrl("/cmm/modal/columnMngModal.include"),title:"Column Info.",params:{modalId:b,gridId:a},cbFnc:c,width:1152,height:"auto",resizable:!0,top:"20px"};paragonCmm.isMobile()&&(d=$.extend(d,{resizable:!1,width:"80%",height:"50%",buttons:[{id:"selectAllBtn",text:"<i class=\"fa fa-check\"></i> \uC804\uCCB4\uC120\uD0DD"},{id:"colsInitBtn",text:"<i class=\"fa fa-refresh\"></i> \uB9AC\uC14B"},{id:"colsSaveBtn",text:"<i class=\"fa fa-save\"></i> \uC800\uC7A5"}]})),htmlUtils.openDialog(d)},h=function(a){var b=$.extend({},{gridId:null,idAttr:"field",nameAttr:"title",initCols:[],hiddenDatas:[],allColDatas:[],viewColDatas:[]},a);if(!Array.isArray(b.initCols))throw new Error("initCols\uAC00 \uBC30\uC5F4\uC774 \uC544\uB2D9\uB2C8\uB2E4.");if(!Array.isArray(b.hiddenDatas))throw new Error("hiddenDatas \uAC00 \uBC30\uC5F4\uC774 \uC544\uB2D9\uB2C8\uB2E4.");if(!Array.isArray(b.allColDatas))throw new Error("allColDatas \uAC00 \uBC30\uC5F4\uC774 \uC544\uB2D9\uB2C8\uB2E4.");if(!Array.isArray(b.viewColDatas))throw new Error("viewColDatas \uAC00 \uBC30\uC5F4\uC774 \uC544\uB2D9\uB2C8\uB2E4.");if(0===b.viewColDatas.length){var c=[];b.initCols.forEach(function(a){b.allColDatas.some(function(d){d[b.idAttr]===a&&c.push(d)})}),b.viewColDatas=b.hiddenDatas.concat(c)}else{var c=[];b.viewColDatas.forEach(function(a){var d=a[b.idAttr];b.allColDatas.some(function(a){a[b.idAttr]===d&&c.push(a)})}),b.viewColDatas=b.hiddenDatas.concat(c)}return b},i=function(a){var b=$.extend(f(a.gridId),a),c=new h(b);e(a.gridId,c);var d=function(a){var b=[];a.forEach(function(a){c.allColDatas.some(function(d){d[c.idAttr]===a&&b.push(d)})}),c.viewColDatas=c.hiddenDatas.concat(b)};return{setViewColDatas:d,getViewColDatas:function(){return c=f(c.gridId),c.viewColDatas},getAllColDatas:function(){return c.allColDatas},getInitCols:function(){return c.initCols},getGridId:function(){return c.gridId},getIdAttr:function(){return c.idAttr},getNameAttr:function(){return c.nameAttr},setCols:function(){e(c.gridId,c)},getCols:function(){c=f(c.gridId)},openColMng:g}};a.column=function(){return{createObj:function(a){return new i(a)}}}()})(paragonCmm);